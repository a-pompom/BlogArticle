# 概要

AWSの構成図を手軽に描けるようになりたいので、描き方や管理方法を模索してみます。

## 背景

とりあえずAWS CLIで手を動かして色んなサービスを試してみたいです。そんなときにやはり構成図があると、計画・復習が捗りそうです。
ただ、AWSの構成図を描くのには苦労した記憶があり、中々手が進みませんでした。サクッと描けるようになりたいので、手順を模索してみます。

## ゴール

AWSの構成図をさくさく描くための手順を確立したい。

## ツール選び

まずはツールを決めます。とりあえず取っ掛かりが欲しいので、構成図を描くときに参考にしていた記事を読み返してみます。
[参考](https://aws.amazon.com/jp/builders-flash/202204/way-to-draw-architecture/)

---

なんやかんや色々試してみましたが、やっぱりdraw.ioに落ち着きました。
ですので、draw.ioをうまいこと使いこなしてAWSの構成図をさくさく描けるようになる方向に舵を切ります。

## draw.ioで描いてみる

まずは描きやすいサンプルから描き方を模索してみます。
[参考](https://aws.amazon.com/jp/cdp/midscale-webservice/?p=cdp&z=8)

### 基本的な図

とりあえず描いてみました。
(ダークモードで出力すると見づらかったので、ライトモードで出力しています)

![image](https://github.com/user-attachments/assets/25ff808d-cf25-4201-87f1-b438e9b5cb90)

思ったより描きやすかったです。
振り返ってみると、矢印を描いていくと図がごちゃごちゃして描きづらく感じていたように思いました。個人レベルだったら矢印が無くても雰囲気は掴めるので、こんな感じでシンプルな図をざくざく描くようにしたいです。

### ちょっと凝った図

ちょっと凝った図も矢印が無いとさくさく描けました。

![image](https://github.com/user-attachments/assets/607e5030-4433-4018-8a55-9b3d4c6304f0)

記事中で紹介するアーキテクチャの構成をざっくり紹介したいときは、このぐらいでも十分そうです。
ほかの人がインフラをメンテすることになりそうで、インフラ構成図がドキュメントの役割を持つ場合はがんばって作り込みたいです。

### テンプレートが使いたい

あとはざっくりつくった図をもとに、派生形を描けるようにしたいです。0から図におこすよりも、テンプレートからこねくり回した方がつくるときも気が楽です。
ということで、テンプレートから図を描き始める方法を調べてみました。

---

しかし、調べてみるとdraw.io標準の方法でテンプレートを呼び出すいい感じの方法が見つけられませんでした。
GitHubリポジトリに保管しておいて、URLから読み出せたら楽だったのですが、権限が無さそうでした。

#### 妥協策

とりあえずGitHubリポジトリに保管した既存ファイルを開き、編集した結果をデバイスに保存。保存したものを開いて画像にエクスポートするなり、GitHubリポジトリに別で保管するなりで管理するのが良さそうでした。
少々手間は掛かりますが、やりたかったことは実現できそうです。

## まとめ

AWSで構成図を描く方法を模索してみました。
なんやかんやdraw.ioに落ち着きはしましたが、個人用途であれば構成図を気楽に描けるようになった気がするので、よしとします。
